// =============================================================================
// SOLOFLOW - Estilos Globais Modernos
// =============================================================================

@use './design-tokens.scss' as *;

// =============================================================================
// RESET E BASE (sem interferir nos componentes Vuetify)
// =============================================================================

*,
*::before,
*::after {
  box-sizing: border-box;
}

body, h1, h2, h3, h4, h5, h6, p, ul, ol, li, figure, figcaption, blockquote, dl, dd {
  margin: 0;
  padding: 0;
}

html {
  font-family: var(--font-family-sans);
  font-size: 16px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  overflow-y: auto;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family-sans);
  background-color: var(--color-bg-primary);
  color: var(--color-neutral-900);
}

// =============================================================================
// TIPOGRAFIA GLOBAL
// =============================================================================

h1, h2, h3, h4, h5, h6 {
  font-weight: $font-weight-semibold;
  line-height: $line-height-tight;
  letter-spacing: $letter-spacing-tight;
  color: var(--color-neutral-900);
}

h1 { font-size: $font-size-4xl; }
h2 { font-size: $font-size-3xl; }
h3 { font-size: $font-size-2xl; }
h4 { font-size: $font-size-xl; }
h5 { font-size: $font-size-lg; }
h6 { font-size: $font-size-base; }

p {
  line-height: $line-height-relaxed;
  color: var(--color-neutral-600);
}

// =============================================================================
// SCROLLBAR CUSTOMIZADA
// =============================================================================

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--color-neutral-300);
  border-radius: $radius-full;

  &:hover {
    background: var(--color-neutral-400);
  }
}

// Firefox
* {
  scrollbar-width: thin;
  scrollbar-color: var(--color-neutral-300) transparent;
}

// =============================================================================
// TRANSIÇÕES GLOBAIS
// =============================================================================

.fade-enter-active,
.fade-leave-active {
  transition: opacity $transition-normal;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

.slide-fade-enter-active {
  transition: all $transition-slow;
}

.slide-fade-leave-active {
  transition: all $transition-normal;
}

.slide-fade-enter-from {
  transform: translateY(10px);
  opacity: 0;
}

.slide-fade-leave-to {
  transform: translateY(-10px);
  opacity: 0;
}

.slide-up-enter-active,
.slide-up-leave-active {
  transition: all $transition-normal;
}

.slide-up-enter-from {
  transform: translateY(20px);
  opacity: 0;
}

.slide-up-leave-to {
  transform: translateY(-20px);
  opacity: 0;
}

// =============================================================================
// CLASSES UTILITÁRIAS
// =============================================================================

// Cursor
.cursor-pointer { cursor: pointer; }
.cursor-default { cursor: default; }
.cursor-not-allowed { cursor: not-allowed; }

// Transições
.transition-all { transition: all $transition-normal; }
.transition-fast { transition: all $transition-fast; }
.transition-slow { transition: all $transition-slow; }

// Hover lift effect
.hover-lift {
  transition: transform $transition-normal, box-shadow $transition-normal;

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }
}

// Glassmorphism
.glass {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.glass-dark {
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

// Gradientes
.gradient-primary {
  background: linear-gradient(135deg, var(--color-primary-500) 0%, var(--color-primary-700) 100%);
}

.gradient-text {
  background: linear-gradient(135deg, var(--color-primary-500), var(--color-primary-700));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// Text truncate
.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.text-truncate-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// =============================================================================
// CUSTOMIZAÇÃO VUETIFY
// =============================================================================

// Cards modernos
.v-card {
  border-color: var(--color-surface-border) !important;
  transition: all $transition-normal;

  &.card-hover:hover {
    border-color: var(--color-primary-200) !important;
    box-shadow: var(--shadow-md);
  }
}

// Botões modernos
.v-btn {
  text-transform: none !important;
  letter-spacing: 0.01em !important;
  font-weight: 500 !important;

  &.v-btn--elevated {
    box-shadow: var(--shadow-sm) !important;

    &:hover {
      box-shadow: var(--shadow-md) !important;
    }
  }
}

// Botão primário com sombra colorida
.v-btn--variant-elevated.bg-primary {
  box-shadow: var(--shadow-primary) !important;

  &:hover {
    box-shadow: 0 6px 20px 0 rgba(59, 130, 246, 0.5) !important;
  }
}

// =============================================================================
// INPUTS MODERNOS - Design System Profissional
// Compatível com Vuetify 3
// =============================================================================

// Prevenir outline/shadow nativo do browser nos inputs Vuetify
.v-input, .v-field {
  &:focus-visible {
    outline: none;
  }
}

.v-field input,
.v-field textarea,
.v-field select {
  &:focus,
  &:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }
}

// Campo base - melhorias visuais sutis
.v-field {
  border-radius: 10px !important;
  box-shadow: none !important;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;

  // Estilo outlined padrão
  &--variant-outlined {
    .v-field__outline {
      transition: border-color 0.2s ease;
    }
  }

  // Estado focado
  &--focused {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  }

  // Estado de erro focado
  &--error.v-field--focused {
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
  }

  // Remover outline nativo do input interno
  input, textarea {
    outline: none !important;
    box-shadow: none !important;
  }
}

// Ícones prepend - transição suave
.v-field__prepend-inner .v-icon {
  opacity: 0.6;
  transition: opacity 0.2s ease, color 0.2s ease;
}

.v-field--focused .v-field__prepend-inner .v-icon {
  opacity: 1;
  color: var(--color-primary-500);
}

.v-field--error .v-field__prepend-inner .v-icon {
  color: var(--color-error-500);
}

// Labels - melhorar legibilidade
.v-label {
  font-weight: 500;
  transition: color 0.2s ease;
}

// Mensagens de ajuda e erro
.v-messages {
  font-size: 0.75rem;
  padding-left: 2px;
  margin-top: 4px;
  line-height: 1.4;
}

// Counter de caracteres
.v-counter {
  font-size: 0.7rem;
  opacity: 0.7;
}

// Textarea - altura mínima
.v-textarea .v-field__input {
  min-height: 80px;
}

// =============================================================================
// MENUS E DROPDOWNS - Apenas melhorias visuais
// =============================================================================

.v-menu > .v-overlay__content,
.v-select__content,
.v-autocomplete__content {
  border-radius: 12px !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.12) !important;
  border: 1px solid var(--color-neutral-200) !important;
}

// =============================================================================
// CHIPS
// =============================================================================

.v-chip {
  font-weight: 500;
}

// =============================================================================
// FORMULÁRIO - Seções e Layout
// =============================================================================

.form-section {
  margin-bottom: $spacing-6;

  h4, h3 {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-neutral-800);
    margin-bottom: $spacing-4;
    padding-left: $spacing-4;
    border-left: 3px solid var(--color-primary-500);
  }
}

// Grupo de campos
.field-group {
  background: var(--color-neutral-50);
  border-radius: $radius-xl;
  padding: $spacing-5;
  margin-bottom: $spacing-4;
  border: 1px solid var(--color-neutral-100);
}

// Campo obrigatório - asterisco
.required-indicator {
  color: var(--color-error-500) !important;
  font-weight: 500;
  margin-left: 2px;
}

// Tables modernas
.v-data-table {
  border: 1px solid var(--color-surface-border) !important;

  th {
    background-color: var(--color-bg-secondary) !important;
    font-weight: 600 !important;
    text-transform: uppercase;
    font-size: 0.75rem !important;
    letter-spacing: 0.05em;
    color: var(--color-neutral-500) !important;
  }

  tr:hover td {
    background-color: var(--color-surface-hover) !important;
  }
}

// Dialog moderno
.v-dialog {
  box-shadow: var(--shadow-2xl) !important;
}

// Lists modernas
.v-list-item {
  transition: all $transition-fast;

  &:hover {
    background-color: var(--color-surface-hover);
  }

  &--active {
    background-color: var(--color-primary-50) !important;

    .v-list-item-title {
      color: var(--color-primary-600) !important;
      font-weight: 600;
    }
  }
}

// Navigation drawer
.v-navigation-drawer {
  border-right: 1px solid var(--color-surface-border) !important;
}

// App bar
.v-app-bar {
  border-bottom: 1px solid var(--color-surface-border) !important;
}

// Alerts modernos
.v-alert {
  border: none !important;

  &.v-alert--variant-tonal {
    border-left: 4px solid currentColor !important;
  }
}

// Progress bars
.v-progress-linear {
  border-radius: $radius-full !important;

  .v-progress-linear__determinate {
    border-radius: $radius-full !important;
  }
}

// Avatars
.v-avatar {
  font-weight: 600;
}

// Menus
.v-menu > .v-overlay__content {
  box-shadow: var(--shadow-lg) !important;
  border: 1px solid var(--color-surface-border);
  border-radius: $radius-lg !important;
}

// =============================================================================
// COMPONENTES CUSTOMIZADOS
// =============================================================================

// Page header
.page-header {
  margin-bottom: $spacing-6;

  .page-title {
    font-size: $font-size-3xl;
    font-weight: $font-weight-bold;
    color: var(--color-neutral-900);
    margin-bottom: $spacing-1;
  }

  .page-subtitle {
    font-size: $font-size-base;
    color: var(--color-neutral-500);
  }
}

// Stats card
.stat-card {
  padding: $spacing-5;
  border-radius: $radius-xl;
  background: var(--color-surface);
  border: 1px solid var(--color-surface-border);
  transition: all $transition-normal;

  &:hover {
    border-color: var(--color-primary-200);
    box-shadow: var(--shadow-md);
  }

  .stat-value {
    font-size: $font-size-3xl;
    font-weight: $font-weight-bold;
    color: var(--color-neutral-900);
    line-height: 1;
  }

  .stat-label {
    font-size: $font-size-sm;
    color: var(--color-neutral-500);
    font-weight: $font-weight-medium;
  }

  .stat-icon {
    width: 48px;
    height: 48px;
    border-radius: $radius-lg;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

// Task card
.task-card {
  padding: $spacing-4;
  border-radius: $radius-xl;
  background: var(--color-surface);
  border: 1px solid var(--color-surface-border);
  transition: all $transition-normal;
  cursor: pointer;

  &:hover {
    border-color: var(--color-primary-300);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  &.urgent {
    border-left: 4px solid var(--color-warning-500);
  }
}

// Empty state
.empty-state {
  padding: $spacing-12 $spacing-6;
  text-align: center;

  .empty-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto $spacing-4;
    border-radius: $radius-full;
    background: var(--color-neutral-100);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-neutral-400);
  }

  .empty-title {
    font-size: $font-size-lg;
    font-weight: $font-weight-semibold;
    color: var(--color-neutral-700);
    margin-bottom: $spacing-2;
  }

  .empty-description {
    font-size: $font-size-sm;
    color: var(--color-neutral-500);
    max-width: 320px;
    margin: 0 auto;
  }
}

// =============================================================================
// RESPONSIVIDADE
// =============================================================================

@media (max-width: 768px) {
  .page-header {
    margin-bottom: $spacing-4;

    .page-title {
      font-size: $font-size-2xl;
    }
  }

  .stat-card {
    padding: $spacing-4;

    .stat-value {
      font-size: $font-size-2xl;
    }
  }
}

// =============================================================================
// ANIMAÇÕES
// =============================================================================

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-fade-in {
  animation: fadeIn $transition-normal forwards;
}

.animate-slide-up {
  animation: slideUp $transition-slow forwards;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

// Skeleton loading
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-neutral-200) 25%,
    var(--color-neutral-100) 50%,
    var(--color-neutral-200) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: $radius-md;
}